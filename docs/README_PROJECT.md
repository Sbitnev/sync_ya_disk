# –ü—Ä–æ–µ–∫—Ç: –î–æ—Å—Ç—É–ø –∫ –Ø–Ω–¥–µ–∫—Å 360 API

–ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å 360 API: –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Å–∫–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º –∏ –¥—Ä—É–≥–∏–º —Ä–µ—Å—É—Ä—Å–∞–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

## üéØ –ß—Ç–æ —Ä–µ—à–∞–µ—Ç —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç

### –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ø–Ω–¥–µ–∫—Å 360 –¥–ª—è –±–∏–∑–Ω–µ—Å–∞:
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–æ–∫–µ–Ω –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ –æ–±—â–µ–º—É –¥–∏—Å–∫—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –õ–∏—á–Ω—ã–µ –¥–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞–ø—Ä—è–º—É—é
- –ü—É–±–ª–∏—á–Ω—ã–µ –ø–∞–ø–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- –ù–µ—Ç –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è Token Exchange

### –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Token Exchange** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏—Ö –ª–∏—á–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º.

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
- **[QUICK_START.md](QUICK_START.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç

### –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[DOCUMENTATION_TOKEN_EXCHANGE.md](DOCUMENTATION_TOKEN_EXCHANGE.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

### –û—Ç—á–µ—Ç—ã
- **[INVESTIGATION_REPORT.md](INVESTIGATION_REPORT.md)** - –î–µ—Ç–∞–ª—å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Å–∫—É
- **[PROBLEM_REPORT.md](PROBLEM_REPORT.md)** - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –ø–∞–ø–∫–∞–º–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```bash
# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–æ–∫–µ–Ω
YANDEX_ADMIN_TOKEN=y0_xxx...
YANDEX_ORG_ID=7140966

# –°–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
ClientID=bdb90dee90fe49329c24535283606260
Client_secret=8ca3671933544d7d990045e7d512aa0d

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
USER_ID=1130000057842996
USER_EMAIL=tn@imprice.ai
```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python get_token_exchange.py

# –°–ø–∏—Å–æ–∫ –ø–∞–ø–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python list_tn_folders.py

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
python download_file_with_user_token.py
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

#### –†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- `get_token_exchange.py` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Token Exchange ‚≠ê
- `get_user_token.py` - –ü–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ Admin API (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- `get_app_token.py` - –ü–æ–ø—ã—Ç–∫–∏ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

#### –†–∞–±–æ—Ç–∞ —Å –¥–∏—Å–∫–æ–º
- `list_folders.py` - –í—ã–≤–æ–¥ –ø–∞–ø–æ–∫ –¥–∏—Å–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `list_tn_folders.py` - –í—ã–≤–æ–¥ –ø–∞–ø–æ–∫ –ª–∏—á–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚≠ê
- `download_file_with_user_token.py` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –ª–∏—á–Ω–æ–≥–æ –¥–∏—Å–∫–∞ ‚≠ê
- `find_folder_by_content.py` - –ü–æ–∏—Å–∫ –ø–∞–ø–æ–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É

#### –†–∞–±–æ—Ç–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –ø–∞–ø–∫–∞–º–∏
- `check_public_access.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—É–±–ª–∏—á–Ω–æ–π –ø–∞–ø–∫–µ
- `download_public_file.py` - –ü–æ–ø—ã—Ç–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–π –ø–∞–ø–∫–∏
- `download_via_save.py` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫
- `download_with_yadisk.py` - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ yadisk
- `download_public_correct.py` - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏

#### –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `find_tn_user.py` - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- `access_tn_disk.py` - –î–æ—Å—Ç—É–ø –∫ –¥–∏—Å–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `access_user_disk.py` - –û–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Å–∫–∞–º

#### –†–∞–±–æ—Ç–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
- `get_calendar_token.py` - –ü–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `calendar_access.py` - –î–æ—Å—Ç—É–ø –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é —á–µ—Ä–µ–∑ CalDAV
- `test_calendar_api.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Calendar API endpoints

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

- `requirements.txt` - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
- `.env` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
- `.gitignore` - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. Token Exchange (RFC 8693)

–ú–µ—Ç–æ–¥ –æ–±–º–µ–Ω–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ó–∞–ø—Ä–æ—Å:**
```bash
POST https://oauth.yandex.ru/token
grant_type=urn:ietf:params:oauth:grant-type:token-exchange
client_id={CLIENT_ID}
client_secret={CLIENT_SECRET}
subject_token={USER_ID}
subject_token_type=urn:yandex:params:oauth:token-type:uid
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "access_token": "2.xxx...",
  "expires_in": 3600,
  "token_type": "bearer"
}
```

### 2. –¢–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤

| –¢–∏–ø —Ç–æ–∫–µ–Ω–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü–æ–ª—É—á–µ–Ω–∏–µ |
|------------|-----------|-----------|
| **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π, –¥–æ—Å—Ç—É–ø –∫ –æ–±—â–µ–º—É –¥–∏—Å–∫—É | –Ø–Ω–¥–µ–∫—Å 360 –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å |
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π (Token Exchange)** | –î–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –¥–∏—Å–∫—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | Token Exchange API |
| **OAuth –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–∫–ª—é—á–∞—è –∫–∞–ª–µ–Ω–¥–∞—Ä—å) | –ß–µ—Ä–µ–∑ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é |

### 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∏—Å–∫–æ–≤

```
–Ø–Ω–¥–µ–∫—Å 360 –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ –û–±—â–∏–π –¥–∏—Å–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ 265
‚îÇ   ‚îú‚îÄ‚îÄ SU
‚îÇ   ‚îú‚îÄ‚îÄ backup
‚îÇ   ‚îú‚îÄ‚îÄ –î–æ–º–∞—à–Ω—è—è
‚îÇ   ‚îî‚îÄ‚îÄ –û–±—â–∞—è –ø–∞–ø–∫–∞
‚îÇ
‚îî‚îÄ‚îÄ –õ–∏—á–Ω—ã–µ –¥–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îú‚îÄ‚îÄ user1@domain.com
    ‚îÇ   ‚îú‚îÄ‚îÄ –ö–ª–∏–µ–Ω—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ –î–∏–∑–∞–π–Ω—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îú‚îÄ‚îÄ user2@domain.com
    ‚îî‚îÄ‚îÄ ...
```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Token Exchange
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –¥–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –ª–∏—á–Ω–æ–≥–æ –¥–∏—Å–∫–∞
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –ø–∞–ø–∫–∞–º–∏ (—á—Ç–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

---

## ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚ùå –ü—Ä—è–º–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Admin API
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚ùå –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–∞–ø–æ–∫ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- ‚ùå –î–æ—Å—Ç—É–ø –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é —á–µ—Ä–µ–∑ Token Exchange (–Ω—É–∂–µ–Ω OAuth)
- ‚ùå –ò–º–ø–µ—Ä—Å–æ–Ω–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Admin API

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ git

```bash
# .gitignore
.env
*.env
.env.*
Client_secret
*token*
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

```python
# ‚ùå –ü–õ–û–•–û
CLIENT_SECRET = "8ca3671933544d7d990045e7d512aa0d"

# ‚úÖ –•–û–†–û–®–û
from dotenv import load_dotenv
load_dotenv()
CLIENT_SECRET = os.getenv("Client_secret")
```

### üîÑ –†–æ—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤

1. –ú–µ–Ω—è–π—Ç–µ CLIENT_SECRET —Ä–∞–∑ –≤ 3-6 –º–µ—Å—è—Ü–µ–≤
2. –û–±–Ω–æ–≤–ª—è–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–æ–∫–µ–Ω –ø—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏
3. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë—ç–∫–∞–ø –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```python
from get_token_exchange import get_user_token
from pathlib import Path

token = get_user_token(CLIENT_ID, CLIENT_SECRET, USER_ID)

def backup_all(token, backup_dir):
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–∞–ø–∫–∏
    folders = list_folders(token, "/")

    for folder in folders:
        print(f"–ë—ç–∫–∞–ø: {folder['name']}")
        # –°–∫–∞—á–∏–≤–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
        backup_folder(token, folder['path'], backup_dir)
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

```python
def find_files(token, extension, root="/"):
    results = []

    def search(path):
        items = list_folder_contents(token, path)
        for item in items:
            if item['type'] == 'dir':
                search(item['path'])
            elif item['name'].endswith(extension):
                results.append(item)

    search(root)
    return results

# –ò—â–µ–º –≤—Å–µ .docx –≤ –ø–∞–ø–∫–µ –ö–ª–∏–µ–Ω—Ç—ã
docx_files = find_files(token, '.docx', '/–ö–ª–∏–µ–Ω—Ç—ã')
```

### –ü—Ä–∏–º–µ—Ä 3: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–∞–ø–æ–∫

```python
import os
from pathlib import Path

def sync_folder(token, remote_path, local_path):
    """–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—É—é –ø–∞–ø–∫—É —Å –ª–æ–∫–∞–ª—å–Ω–æ–π"""
    local_path = Path(local_path)
    local_path.mkdir(parents=True, exist_ok=True)

    items = list_folder_contents(token, remote_path)

    for item in items:
        if item['type'] == 'dir':
            # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –ø–æ–¥–ø–∞–ø–∫—É
            subfolder_local = local_path / item['name']
            sync_folder(token, item['path'], subfolder_local)
        else:
            # –°–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –∏–ª–∏ –æ–Ω —É—Å—Ç–∞—Ä–µ–ª
            file_local = local_path / item['name']

            if not file_local.exists():
                download_file(token, item['path'], str(file_local))
                print(f"–°–∫–∞—á–∞–Ω: {item['name']}")

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –ø–∞–ø–∫—É –ö–ª–∏–µ–Ω—Ç—ã
sync_folder(token, '/–ö–ª–∏–µ–Ω—Ç—ã', 'local_backup/–ö–ª–∏–µ–Ω—Ç—ã')
```

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
import logging

logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

```python
def check_token(token):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞"""
    url = "https://cloud-api.yandex.net/v1/disk"
    headers = {"Authorization": f"OAuth {token}"}

    response = requests.get(url, headers=headers)

    if response.status_code == 200:
        print("‚úì –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω")
        return True
    else:
        print(f"‚úó –¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω: {response.status_code}")
        return False
```

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [–Ø–Ω–¥–µ–∫—Å 360 API](https://yandex.ru/dev/api360/doc/ru/)
- [–Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ API](https://yandex.ru/dev/disk-api/doc/ru/)
- [OAuth –Ø–Ω–¥–µ–∫—Å](https://yandex.ru/dev/id/doc/ru/)

### RFC —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [RFC 8693 - OAuth 2.0 Token Exchange](https://datatracker.ietf.org/doc/html/rfc8693)
- [RFC 6749 - OAuth 2.0 Authorization Framework](https://datatracker.ietf.org/doc/html/rfc6749)

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- [GitHub Issues](https://github.com/anthropics/claude-code/issues) - –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
- [–Ø–Ω–¥–µ–∫—Å 360 –ü–æ–¥–¥–µ—Ä–∂–∫–∞](https://yandex.ru/support/yandex-360/)

---

## ü§ù –í–∫–ª–∞–¥

–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:
1. –°–æ–∑–¥–∞–π—Ç–µ issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
2. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ pull request —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
3. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 1.0 (14 —è–Ω–≤–∞—Ä—è 2026)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Token Exchange –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å –ª–∏—á–Ω—ã—Ö –¥–∏—Å–∫–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚ùå –î–æ—Å—Ç—É–ø –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é —á–µ—Ä–µ–∑ CalDAV –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–¥–º–∏–Ω —Ç–æ–∫–µ–Ω–æ–º

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è.

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é **Claude Code** –æ—Ç Anthropic

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 14 —è–Ω–≤–∞—Ä—è 2026

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –Ø–Ω–¥–µ–∫—Å 360 –∑–∞ API
- RFC 8693 –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç Token Exchange
- –°–æ–æ–±—â–µ—Å—Ç–≤—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0

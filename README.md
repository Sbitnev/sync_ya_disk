# Синхронизация с Яндекс Диском

Скрипт для автоматической синхронизации файлов с публичной папки Яндекс Диска.

## Возможности

- Рекурсивное скачивание всех файлов и папок
- Инкрементальная синхронизация (скачиваются только новые или измененные файлы)
- Сохранение структуры папок
- Отслеживание изменений по дате модификации, размеру и MD5
- Детальная статистика по завершению

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` в корне проекта со следующим содержимым:
```
Token=ваш_токен_яндекс_диска
```

## Использование

Запустите скрипт:
```bash
python src/main.py
```

При первом запуске будут скачаны все файлы. При повторных запусках будут скачиваться только:
- Новые файлы
- Файлы, которые были изменены (по дате, размеру или MD5)

## Конфигурация

В файле `src/main.py` можно настроить:
- `DOWNLOAD_DIR` - директория для скачивания файлов (по умолчанию: `downloaded_files`)
- `METADATA_FILE` - файл с метаданными (по умолчанию: `sync_metadata.json`)
- `public_url` - публичная ссылка на Яндекс Диск

## Структура проекта

```
sync_ya_disk/
├── src/
│   └── main.py           # Основной скрипт
├── downloaded_files/     # Скачанные файлы (создается автоматически)
├── sync_metadata.json    # Метаданные о файлах (создается автоматически)
├── .env                  # Токен доступа
├── requirements.txt      # Зависимости
└── README.md            # Документация
```

## Как работает синхронизация

1. Скрипт получает список всех файлов из публичной папки
2. Для каждого файла проверяется:
   - Существует ли он локально
   - Изменился ли он с момента последней синхронизации
3. Скачиваются только новые или измененные файлы
4. Метаданные сохраняются в `sync_metadata.json` для следующей синхронизации
